/* ==========================================================
 * Проект: MOYAMOVA
 * Файл: overrides.css
 * Назначение: Точечные правки layout для разных окружений
 *             (PWA / iOS Safari) поверх theme.light/dark
 * Важно: подключать ПОСЛЕ theme.light.css и theme.dark.css
 * Обновлено: 2025-11-21
 * ========================================================== */

/* ----------------------------------------------------------
 * 1. Нормализация высоты: используем 100dvh там, где есть
 *    поддержка (Safari 16+, мобильные Chrome и т.д.)
 *    Это уменьшает эффекты плавающих тулбаров.
 * ---------------------------------------------------------- */
@supports (height: 100dvh){
  #app.content{
    height: calc(100dvh - var(--header-h-actual) - var(--footer-h-actual));
  }
}

/* ----------------------------------------------------------
 * 2. PWA (standalone) — немного больше воздуха сверху,
 *    чтобы три зоны визуально были ближе к центру между
 *    шапкой и футером.
 * ---------------------------------------------------------- */
html.is-pwa #app.content{
  padding-top: 48px;  /* было 8px, подгони по вкусу */
}

/* ----------------------------------------------------------
 * 3. iOS Safari — чуть увеличиваем отступ снизу, чтобы
 *    тренер/подсказки не прижимались к нижнему тулбару
 *    и safe-area, и не казались «зажатыми».
 * ---------------------------------------------------------- */
html.is-ios-safari #app.content{
  padding-bottom: calc(
    var(--footer-h-actual, 60px)      /* как было в теме */
    + var(--safe-bottom, 0px)         /* учёт home-бара */
    + 6px                             /* небольшой запас */
  );
}
